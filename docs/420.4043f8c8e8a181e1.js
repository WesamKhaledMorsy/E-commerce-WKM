"use strict";(self.webpackChunkSecondAssignment_On_Ecommerce=self.webpackChunkSecondAssignment_On_Ecommerce||[]).push([[420],{420:(b,l,s)=>{s.r(l),s.d(l,{WishListComponent:()=>M});var a=s(6814),_=s(1120),g=s(5619),t=s(4769);let p=(()=>{class e{transform(n,o=5){return n.split(" ").splice(0,o).join(" ")}static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275pipe=t.Yjl({name:"seeMoreInWishList",type:e,pure:!0,standalone:!0})}return e})();var u=s(6210),h=s(6320),m=s(2425),C=s(1481);function x(e,d){if(1&e&&t._UZ(0,"i",19),2&e){const n=d.$implicit,o=t.oxw().$implicit;t.Q6J("ngClass",o.ratingsAverage>=n?"starColor":"transColor")}}const f=function(){return[1,2,3,4,5]};function O(e,d){if(1&e){const n=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"img",9),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.getProductByID(i._id))}),t.qZA(),t.TgZ(3,"div",10)(4,"h2",11),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.getProductByID(i._id))}),t._uU(5),t.qZA(),t.TgZ(6,"h5",12),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.getProductByID(i._id))}),t._uU(7),t.ALo(8,"seeMoreInWishList"),t.qZA(),t.TgZ(9,"p",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.getProductByID(i._id))}),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"span"),t.YNc(14,x,1,1,"i",14),t._uU(15),t.qZA()(),t.TgZ(16,"p",15)(17,"i",16),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.removeFavourite(i._id))}),t.qZA()(),t.TgZ(18,"a",17),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.addToCart(i._id))}),t._UZ(19,"i",18),t._uU(20," Add to cart"),t.qZA()()()()}if(2&e){const n=d.$implicit;t.xp6(2),t.Q6J("src",n.imageCover,t.LSH),t.xp6(3),t.Oqu(n.category.name),t.xp6(2),t.Oqu(t.xi3(8,6,n.title,3)),t.xp6(4),t.Oqu(t.Dn7(12,9,n.price,"EGP","symbol")),t.xp6(3),t.Q6J("ngForOf",t.DdM(13,f)),t.xp6(1),t.hij(" ",n.ratingsAverage," ")}}function v(e,d){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),t._uU(4,"Wish list"),t.qZA()(),t.YNc(5,O,21,14,"div",6),t.qZA()()),2&e){const n=t.oxw();t.xp6(5),t.Q6J("ngForOf",n.products)}}function P(e,d){1&e&&(t.TgZ(0,"div",2)(1,"div",20)(2,"p",21),t._uU(3,"Your Wish List Is Empty..."),t.qZA()()())}let M=(()=>{class e{constructor(n,o,r,i,c){this._wishlist=n,this._cartS=o,this.router=r,this.toastr=i,this._AuthService=c,this.wishList=[],this.products=[],this.userId="",this._count=new g.X(0)}ngOnInit(){this._AuthService.user_data.subscribe(n=>{this.userId=n.id})}ngAfterViewInit(){this.getAllWishProductsOfUser()}getAllWishProductsOfUser(){this._wishlist.getAllProductsOfUser().subscribe({next:n=>{n.data&&(this.products=n.data,this._count.next(n.count))}})}getProductByID(n){this.router.navigate(["/product/product_details/"+n])}addToCart(n){console.log(n),this._cartS.addProductToCart(n).subscribe({next:o=>{"success"===o.status&&(this.toastr.success(`${o.message}`),console.log(o.data)),this._cartS.totalNumofCartItems.next(o.numOfCartItems)},error:o=>{console.log(o)}})}removeFavourite(n){this._wishlist.removeProductFromWishList(n).subscribe({next:o=>{if("success"===o.status){this.wishList=o.data,this._wishlist.wishCount.next(o.data.length),this.toastr.info(`${o.message}`);const r=this.products.filter(i=>this.wishList.includes(i._id));this.products=r}}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(u.i),t.Y36(h.N),t.Y36(_.F0),t.Y36(m._W),t.Y36(C.e))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-wish-list"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","container p-3",4,"ngIf","ngIfElse"],["msg",""],[1,"container","p-3"],[1,"row","g-4"],[1,"col-md-12"],[1,"text-center","fst-italic","fw-bold","fs-1"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card","product-card"],["alt","product",1,"card-img-top","w-100",3,"src","click"],[1,"card-body"],[1,"h6","category",3,"click"],[1,"h6","card-title",3,"click"],[1,"card-text","d-flex","justify-content-between",3,"click"],["class","fa-solid fa-star",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-text","d-flex","justify-content-end"],[1,"fa-solid","fa-heart-circle-minus","heart",3,"click"],[1,"btn","Add-btn","text-center",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-star",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fs-1","fst-italic","text-center"]],template:function(o,r){if(1&o&&(t.YNc(0,v,6,1,"div",0),t.YNc(1,P,4,0,"ng-template",null,1,t.W1O)),2&o){const i=t.MAs(2);t.Q6J("ngIf",r.products.length>0)("ngIfElse",i)}},dependencies:[a.ez,a.mk,a.sg,a.O5,a.H9,_.Bz,p],styles:[".container[_ngcontent-%COMP%]{margin-top:6rem;margin-bottom:4rem}.container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{position:relative;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:translateY(0)}.container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;position:relative;transform:translateY(150%);transition:all 1s}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{padding:.1rem;transition:all 1s}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{box-shadow:#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#2c2c}.container[_ngcontent-%COMP%]   .main-bg[_ngcontent-%COMP%]{background-color:#0fa90fc4;border-radius:10px;border:none;padding:.2rem .4rem;margin-top:.5rem}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]{background-color:#0fa90fc4;border:none;border-radius:10px;color:#fff;padding:.5rem;margin-block:.2rem;transition:all .3s}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]:hover{box-shadow:#0000002b 0 -23px 25px inset,#08c437de 0 -36px 30px inset,#48ff0073 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#787878cc}.container[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]{transition:all .5s}.container[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]:hover{background-color:#d84242;color:#fff!important}.container[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{font-size:25px;transition:all .5s}.container[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover{font-size:28px;color:#9e0101}.container-fluid[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#2c2c}[_ngcontent-%COMP%]::-webkit-scrollbar{width:13px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 3px gray;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(15,169,15,.767);border-radius:5px;-webkit-transition:all 1s;transition:all 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(1,113,1,.767)}.container[_ngcontent-%COMP%]{margin-top:5rem;padding:1rem}.starColor[_ngcontent-%COMP%]{color:#f6f613}.transColor[_ngcontent-%COMP%]{color:gray}"]})}return e})()}}]);