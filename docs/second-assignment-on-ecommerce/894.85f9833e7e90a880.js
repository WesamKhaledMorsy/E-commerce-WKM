"use strict";(self.webpackChunkSecondAssignment_On_Ecommerce=self.webpackChunkSecondAssignment_On_Ecommerce||[]).push([[894],{5894:(U,h,a)=>{a.r(h),a.d(h,{ProductModule:()=>Y});var l=a(6814),d=a(1120),t=a(4769),C=a(2292),f=a(6210),P=a(6320),g=a(2425),u=a(95),p=a(6472);let M=(()=>{class i{transform(o,n){return o.filter(e=>e.title.toLowerCase().includes(n.toLowerCase()))}static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275pipe=t.Yjl({name:"search",type:i,pure:!0})}return i})(),x=(()=>{class i{transform(o,n=5){return o.split(" ").splice(0,n).join(" ")}static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275pipe=t.Yjl({name:"seemore",type:i,pure:!0})}return i})();function b(i,s){if(1&i&&t._UZ(0,"i",20),2&i){const o=s.$implicit,n=t.oxw().$implicit;t.Q6J("ngClass",n.ratingsAverage>=o?"starColor":"transColor")}}function v(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"i",21),t.NdJ("click",function(){t.CHM(o);const e=t.oxw().$implicit,r=t.oxw();return t.KtG(r.addFavourite(e._id))}),t.qZA()}}function w(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"i",22),t.NdJ("click",function(){t.CHM(o);const e=t.oxw().$implicit,r=t.oxw();return t.KtG(r.removeFavourite(e._id))}),t.qZA()}}const A=function(){return[1,2,3,4,5]};function T(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"img",9),t.NdJ("click",function(){const r=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.getProductByID(r._id))}),t.qZA(),t.TgZ(3,"div",10)(4,"h2",11),t.NdJ("click",function(){const r=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.getProductByID(r._id))}),t._uU(5),t.qZA(),t.TgZ(6,"h5",12),t.NdJ("click",function(){const r=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.getProductByID(r._id))}),t._uU(7),t.ALo(8,"seemore"),t.qZA(),t.TgZ(9,"p",13),t.NdJ("click",function(){const r=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.getProductByID(r._id))}),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"span"),t.YNc(14,b,1,1,"i",14),t.TgZ(15,"span"),t._uU(16),t.qZA()()(),t.TgZ(17,"p",15),t.YNc(18,v,1,0,"i",16),t.YNc(19,w,1,0,"i",17),t.qZA(),t.TgZ(20,"a",18),t.NdJ("click",function(){const r=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.addToCart(r._id))}),t._UZ(21,"i",19),t._uU(22," Add to cart"),t.qZA()()()()}if(2&i){const o=s.$implicit,n=t.oxw();t.xp6(2),t.Q6J("src",o.imageCover,t.LSH),t.xp6(3),t.hij(" ",null==o.category?null:o.category.name," "),t.xp6(2),t.hij(" ",t.xi3(8,8,o.title,3)," "),t.xp6(4),t.Oqu(t.Dn7(12,11,o.price,"EGP","symbol")),t.xp6(3),t.Q6J("ngForOf",t.DdM(15,A)),t.xp6(2),t.hij(" ",o.ratingsAverage," "),t.xp6(2),t.Q6J("ngIf",!n.wishListData.includes(o._id)),t.xp6(1),t.Q6J("ngIf",n.wishListData.includes(o._id))}}const D=function(i,s,o){return{id:"productPagination",itemsPerPage:i,currentPage:s,totalItems:o}};let O=(()=>{class i{constructor(o,n,e,r){this.productService=o,this._wishlist=n,this._cartS=e,this.toastr=r,this.products=[],this.term="",this.pageNumber=1,this.pageLimit=15,this.allProducts=0,this.wishListData=[],this.router=(0,t.f3M)(d.F0)}ngOnInit(){this.GetAllProducts(this.pageNumber,this.pageLimit),this._wishlist.getAllProductsOfUser().subscribe({next:o=>{const n=o.data.map(e=>e._id);this.wishListData=n}})}GetAllProducts(o,n){this.productService.getAllProducts(o,n).subscribe({next:e=>{this.products=e.data,this.allProducts=e.results,this.pageNumber=e.metadata.currentPage,this.pageLimit=e.metadata.limit},error:e=>{console.log(e)}})}pageChanged(o){this.pageNumber=o,this.GetAllProducts(this.pageNumber,this.pageLimit)}getProductByID(o){this.router.navigate(["/product/product_details/"+o])}addToCart(o){this._cartS.addProductToCart(o).subscribe({next:n=>{"success"===n.status&&(this.toastr.success(`${n.message}`,"",{timeOut:3e3}),this._cartS.totalNumofCartItems.next(n.numOfCartItems))},error:n=>{console.log(n)}})}addFavourite(o){this._wishlist.addProductToWishList(o).subscribe({next:n=>{"success"===n.status&&(this.toastr.success(`${n.message}`),this.wishListData=n.data),this._wishlist.wishCount.next(n.data.length)}})}removeFavourite(o){this._wishlist.removeProductFromWishList(o).subscribe({next:n=>{"success"===n.status&&(this.toastr.info(`${n.message}`),this.wishListData=n.data,this._wishlist.wishCount.next(n.data.length)),this._wishlist.wishCount.next(n.data.length)}})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(C.M),t.Y36(f.i),t.Y36(P.N),t.Y36(g._W))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-list"]],decls:11,vars:13,consts:[[1,"container","p-3"],[1,"row","g-3"],[1,"col-md-12"],[1,"col-md-12","d-flex","align-content-center","justify-content-center"],["type","text","id","search","placeholder","Seacrh.......... ",1,"form-control","w-50",3,"ngModel","ngModelChange"],["class","col-md-3 align-items-center",4,"ngFor","ngForOf"],["id","productPagination","previousLabel","Previous","nextLabel","Next",1,"my-pagination",3,"maxSize","pageChange","pageBoundsCorrection"],[1,"col-md-3","align-items-center"],[1,"card","product-card"],["alt","product",1,"card-img-top","w-100",3,"src","click"],[1,"card-body"],[1,"h6","category",3,"click"],[1,"h6","card-title",3,"click"],[1,"card-text","d-flex","justify-content-between",3,"click"],["class","fa-solid fa-star",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-text","d-flex","justify-content-between"],["class","fa-regular fa-heart heart",3,"click",4,"ngIf"],["class","fa-solid fa-heart-circle-minus heart",3,"click",4,"ngIf"],[1,"btn","Add-btn","text-center",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-star",3,"ngClass"],[1,"fa-regular","fa-heart","heart",3,"click"],[1,"fa-solid","fa-heart-circle-minus","heart",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Popular Products"),t.qZA()(),t.TgZ(5,"div",3)(6,"input",4),t.NdJ("ngModelChange",function(c){return e.term=c}),t.qZA()(),t.YNc(7,T,23,16,"div",5),t.ALo(8,"search"),t.ALo(9,"paginate"),t.TgZ(10,"pagination-controls",6),t.NdJ("pageChange",function(c){return e.pageChanged(c)})("pageBoundsCorrection",function(c){return e.pageChanged(c)}),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("ngModel",e.term),t.xp6(1),t.Q6J("ngForOf",t.xi3(8,3,t.xi3(9,6,e.products,t.kEZ(9,D,e.pageLimit,e.pageNumber,e.allProducts)),e.term)),t.xp6(3),t.Q6J("maxSize",50))},dependencies:[l.mk,l.sg,l.O5,u.Fj,u.JJ,u.On,p.LS,l.H9,p._s,M,x],styles:[".container[_ngcontent-%COMP%]{margin-top:6rem;margin-bottom:4rem}.container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{position:relative;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:translateY(0)}.container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;position:relative;transform:translateY(150%);transition:all 1s}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{padding:.1rem;max-height:620px;transition:all 1s}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{box-shadow:#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#2c2c}.container[_ngcontent-%COMP%]   .main-bg[_ngcontent-%COMP%]{background-color:#0fa90fc4;border-radius:10px;border:none;padding:.2rem .4rem;margin-top:.5rem}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]{background-color:#0fa90fc4;border:none;border-radius:10px;color:#fff;padding:.5rem;margin-block:.2rem;transition:all .3s}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]:hover{box-shadow:#0000002b 0 -23px 25px inset,#08c437de 0 -36px 30px inset,#48ff0073 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#787878cc}.container[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]{transition:all .5s}.container[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]:hover{background-color:#d84242;color:#fff!important}.container[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{font-size:25px;transition:all .5s}.container[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover{font-size:28px;color:#9e0101}.container-fluid[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#2c2c}[_ngcontent-%COMP%]::-webkit-scrollbar{width:13px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 3px gray;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(15,169,15,.767);border-radius:5px;-webkit-transition:all 1s;transition:all 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(1,113,1,.767)}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .starColor[_ngcontent-%COMP%]{color:#f6f613}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .transColor[_ngcontent-%COMP%]{color:gray}"]})}return i})();var _=a(8010);function k(i,s){if(1&i&&t._UZ(0,"img",13),2&i){const o=t.oxw().$implicit;t.Q6J("src",o,t.LSH)}}function Z(i,s){1&i&&(t.ynx(0),t.YNc(1,k,1,1,"ng-template",12),t.BQk())}function y(i,s){if(1&i&&t._UZ(0,"i",14),2&i){const o=s.$implicit,n=t.oxw();t.Q6J("ngClass",(null==n.productDetails?null:n.productDetails.ratingsAverage)>=o?"starColor":"transColor")}}function L(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.addFavourite(e.productDetails._id))}),t.qZA()}}function F(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"i",16),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.removeFavourite(e.productDetails._id))}),t.qZA()}}const J=function(){return[1,2,3,4,5]};let N=(()=>{class i{constructor(o,n,e,r){this._productS=o,this._wishlist=n,this._cartS=e,this.toastr=r,this._ActivatedRoute=(0,t.f3M)(d.gz),this.wishListData=[],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,navSpeed:800,navText:["<",">"],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!0}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe(o=>{o.get("id")&&this.getProductByID(o.get("id"))}),this._wishlist.getAllProductsOfUser().subscribe({next:o=>{const n=o.data.map(e=>e._id);this.wishListData=n}})}getProductByID(o){this._productS.getProductById(o).subscribe({next:n=>{this.productDetails=n.data},error:n=>{console.log(n)}})}addToCart(o){this._cartS.addProductToCart(o).subscribe({next:n=>{"success"===n.status&&(this.toastr.success(`${n.message}`,"",{timeOut:3e3}),this._cartS.totalNumofCartItems.next(n.numOfCartItems))},error:n=>{console.log(n)}})}addFavourite(o){this._wishlist.addProductToWishList(o).subscribe({next:n=>{"success"===n.status&&(this.toastr.success(`${n.message}`),this.wishListData=n.data),this._wishlist.wishCount.next(n.data.length)}})}removeFavourite(o){this._wishlist.removeProductFromWishList(o).subscribe({next:n=>{"success"===n.status&&(this.toastr.info(`${n.message}`),this.wishListData=n.data),this._wishlist.wishCount.next(n.data.length)}})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(C.M),t.Y36(f.i),t.Y36(P.N),t.Y36(g._W))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-details"]],decls:25,vars:13,consts:[[1,"container","p-3"],[1,"row","align-items-center"],[1,"col-md-3"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"d-flex","justify-content-between"],["class","fa-solid fa-star",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","Add-btn","text-center",3,"click"],[1,"fa-solid","fa-plus"],["class","fa-regular fa-heart heart ",3,"click",4,"ngIf"],["class","fa-solid fa-heart-circle-minus heart",3,"click",4,"ngIf"],["carouselSlide",""],["alt","clothes",1,"w-100",3,"src"],[1,"fa-solid","fa-star",3,"ngClass"],[1,"fa-regular","fa-heart","heart",3,"click"],[1,"fa-solid","fa-heart-circle-minus","heart",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),t.YNc(4,Z,2,0,"ng-container",4),t.qZA()(),t.TgZ(5,"div",5)(6,"h1"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"seemore"),t.qZA(),t.TgZ(11,"p",6)(12,"span"),t._uU(13),t.qZA(),t.TgZ(14,"span"),t.YNc(15,y,1,1,"i",7),t.TgZ(16,"span"),t._uU(17),t.qZA()()(),t.TgZ(18,"p",6)(19,"a",8),t.NdJ("click",function(){return e.addToCart(e.productDetails._id)}),t._UZ(20,"i",9),t._uU(21," Add to cart"),t.qZA(),t.TgZ(22,"a"),t.YNc(23,L,1,0,"i",10),t.qZA(),t.YNc(24,F,1,0,"i",11),t.qZA()()()()),2&n&&(t.xp6(3),t.Q6J("options",e.customOptions),t.xp6(1),t.Q6J("ngForOf",null==e.productDetails?null:e.productDetails.images),t.xp6(3),t.Oqu(null==e.productDetails||null==e.productDetails.category?null:e.productDetails.category.name),t.xp6(2),t.Oqu(t.xi3(10,9,null==e.productDetails?null:e.productDetails.description,60)),t.xp6(4),t.hij(" ",null==e.productDetails?null:e.productDetails.price,"EGP"),t.xp6(2),t.Q6J("ngForOf",t.DdM(12,J)),t.xp6(2),t.hij(" ",null==e.productDetails?null:e.productDetails.ratingsAverage," "),t.xp6(6),t.Q6J("ngIf",!e.wishListData.includes(e.productDetails._id)),t.xp6(1),t.Q6J("ngIf",e.wishListData.includes(e.productDetails._id)))},dependencies:[l.mk,l.sg,l.O5,_.Fy,_.Mp,x],styles:[".container[_ngcontent-%COMP%]{margin-top:6rem;margin-bottom:4rem}.container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{position:relative;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:translateY(0)}.container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;position:relative;transform:translateY(150%);transition:all 1s}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{padding:.1rem;max-height:620px;transition:all 1s}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{box-shadow:#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#2c2c}.container[_ngcontent-%COMP%]   .main-bg[_ngcontent-%COMP%]{background-color:#0fa90fc4;border-radius:10px;border:none;padding:.2rem .4rem;margin-top:.5rem}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]{background-color:#0fa90fc4;border:none;border-radius:10px;color:#fff;padding:.5rem;margin-block:.2rem;transition:all .3s}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]:hover{box-shadow:#0000002b 0 -23px 25px inset,#08c437de 0 -36px 30px inset,#48ff0073 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.container[_ngcontent-%COMP%]   .Add-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#787878cc}.container[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]{transition:all .5s}.container[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]:hover{background-color:#d84242;color:#fff!important}.container[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{font-size:25px;transition:all .5s}.container[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover{font-size:28px;color:#9e0101}.container-fluid[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#2c2c}[_ngcontent-%COMP%]::-webkit-scrollbar{width:13px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 3px gray;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(15,169,15,.767);border-radius:5px;-webkit-transition:all 1s;transition:all 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(1,113,1,.767)}.row[_ngcontent-%COMP%]{height:80vh}.starColor[_ngcontent-%COMP%]{color:#f6f613}.transColor[_ngcontent-%COMP%]{color:gray}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.Add-btn)   i[_ngcontent-%COMP%]{width:20%}"]})}return i})();var m=a(8508);const S=[{path:"",component:O,canActivate:[m.p]},{path:"product_list",component:O,canActivate:[m.p]},{path:"product_details/:id",component:N,canActivate:[m.p]}];let I=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(S),d.Bz]})}return i})(),Y=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[l.ez,I,u.u5,g.Rh.forRoot(),_.bB,p.JX]})}return i})()}}]);